# Snake-client

Клиент часть веб-приложения игры Змейка: здесь интерфейс игры и основная логика ее работы. Серверный компонент обслуживает веб-страницы, на нем обрабатываются и хранятся данные пользователей игры в базе данных, доступ к которым осуществляется посредством HTTP запросов.
Игра отличается от классической дополнительным функционалом, имеет несколько уровней сложности за счет добавленных интерактивных объектов, с которыми взаимодействует змейка. Также, пользователи веб-приложения имеют возможность зарегистрироваться, чтобы сохранять набранные в процессе игры баллы.

<br/>

## Уровни игры
Всего разработано 4 доступных для игры уровня: классический без препятствий, со статическими препятствиями, с порталами и препятствиями, и четвертый с генерацией препятствий, которые меняют свое положение в течение игры. На каждом из уровней, поле имеет закольцованные края, то есть столкновение с ними не приводит к завершению игры. На уровнях с препятствиями, препятствий присутствует всего 3, а их расположение генерируется случайно в начале сессии игры. В случае 4 уровня расположение препятствий генерируются заново каждые 20 секунд текущей сессии.
Все клетки игрового поля за исключением пустых, являются анимированными и интерактивными, то есть они взаимодействуют с головой змейки, движением которой управляет пользователь во время игры. При столкновении с яблоком число текущих набранных баллов увеличивается на величину равную уровню игры, и генерируются местоположение для нового яблока, если на поле существует незанятая клетка. При столкновении с препятствием, как и при столкновении с элементом своего тела, змейка умирает, и игра завершается. Порталы, доступные на 3 и 4 уровнях, это пара объектов, имеющие статическое местоположение, проходя через один из которых, змейка выходит из второго, сохраняя направление движения.

<br/>

## План страниц
В веб-приложении 5 страниц на основе 16 виджетов — специальных объектов, описывающих интерфейс программы.

Всего для клиентской части приложения написано 1900 строк кода.

* **Main menu**

На странице Main Menu находятся интерактивные кнопки, с помощью которых можно перейти на страницы Level Selection, Login и Scoreboard.
```
![Alt-текст](https://)
```

* **Level selection**

На странице Level selection пользователь выбирает уровень, на котором он будет проходить игру. При нажатии на одну из интерактивных кнопок выбора уровня, он переходит на следующую страницу Game, при нажатии на кнопку "Go Back", пользователь возвращается на страницу главного меню Main Menu.
* **Scoreboard**

Здесь ранее авторизованный на странице Login пользователь может увидеть таблицу лучших 10 результатов всех участников игры, при этом результат просматривающего пользователя будет отображаться и в том случае, если он не входит в топ-10. При нажатии на кнопку "Go Back", пользователь возвращается на страницу главного меню Main Menu.
* **Login**

На странице Login происходит авторизация пользователей, здесь можно создать новую учетную запись или зайти в созданную ранее. Пользователю доступны два поля для заполнения имени учетной записи (username) и пароля (password), а также две интерактивных кнопки "Login" и "Sign Up". В случае успешной авторизации, пользователю доступен переход на страницу Level Selection посредством нажатия интерактивной кнопки "Play" или переход на главное меню. В течение 12 часов текущей сессии работы с программой пользователь остается авторизованным в системе и при последующих переходах на страницу Game данные о его результатах будут сохраняться.
* **Game**

Данная страница может иметь два состояния: состояние активной игры, соответствующее первому заходу на страницу, или состояние завершенной игры, наступающее в случае проигрыша или выигрыша. 
В состоянии активной игры пользователь видит квадратное поле с движущейся змейкой, яблоком, порталами и препятствиями в зависимости от уровня игры, набранные в процессе текущей игры баллы и интерактивную кнопку "Go Back", при нажатии на которую пользователь переходит на страницу выбора уровня Level Selection, а набранные им в процессе текущей игры баллы теряются. 
При завершении игры пользователь видит результат прошедшей сессии игры, меню с интерактивными кнопками выбора: "Restart", которая перезапустит игру на том же уровне, "Choose a different level", которая направляет пользователя на страницу выбора уровня, "Scoreboard", которая ведет на страницу с таблицей результатов, и "Main Menu", которая ведет в главный экран. При этом, после завершения каждой игры, при загрузке экрана с меню, баллы раннее авторизованных пользователей сохраняются на сервере.


<br/>

## Дизайн
Все страницы игры соответствуют единому стилю и используют одну палитру цветов, доступную в файле `сolours.dart`, а также два специальных пиксельных шрифта, расположенных в папке `/assets`.

<br/>

## Детали реализации
Приложение запускается из `/lib/main.dart`, заполняет структуру, в которой хранятся переменные окружения, и инициализирует объекты вида `BlocProvider` и `Provider`: первый отвечает за высокоуровневое управления `Cubit` объектами, а второй использует виджеты (объекты типа `Widget`) для управления состоянием программы. 
Первый запускающийся виджет - экран MainMenuScreen.
Подробнее об экранах, объектах `Cubit` и других можно почитать в cоответствующих поддиректориях папки `/lib`:

* `/lib/screens`
* `/lib/cubit`
* `/lib/model`
* `/lib/model/widgets`

<br/>

### Про Flutter
Вся фронтенд часть приложения написана с помощью фреймворка Flutter (он в свою очередь написан на C-style объектно-ориентированном языке Dart, созданном для написания веб- и мобильных приложений). Flutter хорош тем, что для него создана отличная документация, по нему можно найти много обучающих уроков и мастер-классов, в том числе официальных от Google, и с ним легко начать работать в том числе тем, кто никогда раньше не писал веб-приложений. Помимо этого, Flutter — одна из первых технологий, позволяющих писать кроссплатформенные приложения.
